var button=document.querySelector(".map--form__button"),popup=document.querySelector(".popup-container"),popupClose=document.querySelector(".popup--form_close"),popupCloseOv=document.querySelector(".popup-container-overlay"),popupForm=popup.querySelector(".popup--form"),popupName=popup.querySelector("[name=name]"),popupEmail=popup.querySelector("[name=email]"),popupComment=popup.querySelector("[name=comment]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("popupName")}catch(err){isStorageSupport=!1}document.addEventListener("DOMContentLoaded",function(){}),button.addEventListener("click",function(a){a.preventDefault(),popup.classList.add("popup-show"),popupForm.classList.add("popup--form-show"),storage?(popupName.value=storage,password.focus()):popupName.focus()}),popupClose.addEventListener("click",function(a){a.preventDefault(),popup.classList.remove("popup-show"),popupForm.classList.remove("popup-error"),popupForm.classList.remove("popup--form-show")}),popupCloseOv.addEventListener("click",function(a){a.preventDefault(),popup.classList.remove("popup-show"),popupForm.classList.remove("popup-error"),popupForm.classList.remove("popup--form-show")}),popupForm.addEventListener("submit",function(a){popupName.value&&popupEmail.value&&popupComment.value?isStorageSupport&&localStorage.setItem("popupName",login.value):(a.preventDefault(),popupForm.classList.remove("popup-error"),popupForm.offsetWidth=popup.offsetWidth,popupForm.classList.add("popup-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&popup.classList.contains("popup-show")&&(a.preventDefault(),popup.classList.remove("popup-show"),popup.classList.remove("popup-error"))});
